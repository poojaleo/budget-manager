{"ast":null,"code":"var _jsxFileName = \"/Users/pooja/lambda/Spring Projects/expensetracker/expenseapp/src/components/Expense/ViewExpenseModal.js\";\nimport { currencyFormatter, dateFormatter } from \"../utils/utils\";\nimport { Button, Modal, Stack, Table } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\nimport AuthService from \"../../services/auth.service\";\nimport axios from \"axios\";\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport 'node_modules/react-bootstrap-table/dist/react-bootstrap-table-all.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ViewExpenseModal = (show, handleClose, expenses, categoryName) => {\n  const generateRows = expenses === null || expenses === void 0 ? void 0 : expenses.map(exp => {\n    console.log(exp);\n    console.log(new Date(exp.expenseDate).toISOString());\n    return /*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"horizontal\",\n      gap: 2,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fs-5\",\n        children: exp.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fs-6\",\n        children: currencyFormatter.format(exp.amount)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fs-6\",\n        children: new Date(exp.expenseDate).toISOString().substring(0, 10)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }, this)]\n    }, exp.expenseId, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this);\n  });\n\n  const deleteExpense = expenseId => {\n    const username = AuthService.getCurrentUser();\n    const token = AuthService.getToken();\n    console.log(\"Deleting expense....\");\n    const requestHeader = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + token\n      }\n    };\n    const url = `/${username}/expense/${expenseId}`;\n    axios.delete(url, requestHeader).then(response => {\n      console.log(response.data);\n      handleClose();\n      window.location.reload();\n    }).catch(error => {\n      console.log(error.message);\n    });\n  };\n\n  const updateExpense = event => {\n    event.preventDefault();\n  };\n\n  let count = 0;\n  const rowsTable = expenses === null || expenses === void 0 ? void 0 : expenses.map(exp => {\n    count += 1;\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: count\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: exp.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: currencyFormatter.format(exp.amount)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: new Date(exp.expenseDate).toISOString().substring(0, 10)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"info\",\n          size: \"sm\",\n          onClick: () => updateExpense,\n          children: \"Update Expense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-danger\",\n          size: \"sm\",\n          onClick: () => deleteExpense(exp.expenseId),\n          children: \"Delete Expense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 12\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"horizontal\",\n          gap: 2,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Expenses: \", categoryName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        bordered: true,\n        hover: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: rowsTable\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BootstrapTable, {\n        data: expenses,\n        hover: true,\n        children: [/*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          isKey: true,\n          dataField: \"expenseId\",\n          children: \"Product ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableHeaderColumn, {\n          dataField: \"description\",\n          children: \"Product Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n\n_c = ViewExpenseModal;\nexport default ViewExpenseModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewExpenseModal\");","map":{"version":3,"names":["currencyFormatter","dateFormatter","Button","Modal","Stack","Table","React","useState","AuthService","axios","BootstrapTable","TableHeaderColumn","ViewExpenseModal","show","handleClose","expenses","categoryName","generateRows","map","exp","console","log","Date","expenseDate","toISOString","description","format","amount","substring","expenseId","deleteExpense","username","getCurrentUser","token","getToken","requestHeader","headers","url","delete","then","response","data","window","location","reload","catch","error","message","updateExpense","event","preventDefault","count","rowsTable"],"sources":["/Users/pooja/lambda/Spring Projects/expensetracker/expenseapp/src/components/Expense/ViewExpenseModal.js"],"sourcesContent":["import {currencyFormatter, dateFormatter} from \"../utils/utils\";\nimport {Button, Modal, Stack, Table} from \"react-bootstrap\";\nimport React, {useState} from \"react\";\nimport AuthService from \"../../services/auth.service\";\nimport axios from \"axios\";\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\nimport 'node_modules/react-bootstrap-table/dist/react-bootstrap-table-all.min.css';\n\nconst ViewExpenseModal = (show, handleClose, expenses, categoryName) => {\n\n    const generateRows = expenses?.map(exp => {\n        console.log(exp);\n        console.log(new Date(exp.expenseDate).toISOString());\n        return (\n            <Stack direction={\"horizontal\"} gap={2} key={exp.expenseId}>\n                <div className={\"fs-5\"}>{exp.description}</div>\n                <div className=\"fs-6\">{currencyFormatter.format(exp.amount)}</div>\n                <div className=\"fs-6\">{new Date(exp.expenseDate).toISOString().substring(0,10)}</div>\n            </Stack>\n        )\n    })\n\n    const deleteExpense = (expenseId) => {\n\n        const username = AuthService.getCurrentUser();\n        const token = AuthService.getToken();\n        console.log(\"Deleting expense....\");\n\n        const requestHeader = {\n            headers : {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Bearer \" + token\n            }\n        }\n\n        const url = `/${username}/expense/${expenseId}`;\n\n        axios.delete(url, requestHeader).then(response => {\n            console.log(response.data);\n            handleClose();\n            window.location.reload();\n        }).catch(error => {\n            console.log(error.message);\n        })\n    }\n\n    const updateExpense = (event) => {\n        event.preventDefault();\n    }\n\n    let count = 0;\n\n   const rowsTable = expenses?.map(exp => {\n      count += 1;\n       return (\n           <tr>\n               <td>{count}</td>\n               <td>{exp.description}</td>\n               <td>{currencyFormatter.format(exp.amount)}</td>\n               <td>{new Date(exp.expenseDate).toISOString().substring(0,10)}</td>\n               <td><Button variant={\"info\"} size={\"sm\"} onClick={() => updateExpense}>Update Expense</Button></td>\n               <td><Button variant={\"outline-danger\"} size={\"sm\"} onClick={() => deleteExpense(exp.expenseId)}>Delete Expense</Button></td>\n           </tr>\n       )\n   })\n\n\n    return (\n        <Modal show={show} onHide={handleClose}>\n            <Modal.Header closeButton>\n                <Modal.Title>\n                    <Stack direction={\"horizontal\"} gap={2}>\n                        <div>Expenses: {categoryName}</div>\n\n                    </Stack>\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {/*<Stack direction={\"vertical\"} gap={2}>\n                    {generateRows}\n                </Stack>*/}\n                <Table bordered hover>\n                    <thead>\n                        <th>#</th>\n                        <th>Description</th>\n                        <th>Amount</th>\n                        <th>Date</th>\n                        <th>Action</th>\n                        <th>Action</th>\n                    </thead>\n                    <tbody>\n                    {rowsTable}\n                    </tbody>\n                </Table>\n                <BootstrapTable data={expenses} hover>\n                    <TableHeaderColumn isKey dataField='expenseId'>Product ID</TableHeaderColumn>\n                    <TableHeaderColumn dataField='description'>Product Name</TableHeaderColumn>\n                    \n                </BootstrapTable>\n\n            </Modal.Body>\n        </Modal>\n    )\n}\n\nexport default ViewExpenseModal;"],"mappings":"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"},"metadata":{},"sourceType":"module"}